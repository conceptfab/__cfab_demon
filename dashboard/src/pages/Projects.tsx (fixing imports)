import { useEffect, useMemo, useState } from "react";
import {
  Plus,
  Trash2,
  RefreshCw,
  CalendarPlus,
  Flame,
  MessageSquare,
  CircleOff,
  TimerReset,
  Wand2,
  ChevronDown,
  ChevronRight,
  Snowflake,
  LayoutDashboard,
  CircleDollarSign,
  Type,
  Clock,
  Trophy,
  Folders,
  Save,
  MousePointerClick,
} from "lucide-react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";

import { Dialog, DialogContent, DialogHeader, DialogTitle } from "@/components/ui/dialog";
import { open } from "@tauri-apps/plugin-dialog";
import {
  getProjects,
  getExcludedProjects,
  createProject,
  updateProject,
  excludeProject,
  restoreProject,
  deleteProject,
  freezeProject,
  unfreezeProject,
  autoFreezeProjects,
  getApplications,
  assignAppToProject,
  getProjectFolders,
  addProjectFolder,
  removeProjectFolder,
  getFolderProjectCandidates,
  createProjectFromFolder,
  syncProjectsFromFolders,
  getProjectExtraInfo,
  compactProjectData,
  getProjectEstimates,
  resetProjectTime,
} from "@/lib/tauri";
import { ManualSessionDialog } from "@/components/ManualSessionDialog";
import { formatDuration, formatPathForDisplay, formatMoney, cn } from "@/lib/utils";
import { useAppStore } from "@/store/app-store";
import { loadFreezeSettings } from "@/lib/user-settings";
import type {
  ProjectWithStats,
  AppWithStats,
  ProjectFolder,
  FolderProjectCandidate,
  ProjectExtraInfo,
} from "@/lib/db-types";
